<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aklat at Pluma | A Sanctuary of Words</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        darkgreen: '#102820',
                        hunter: '#4C6444',
                        khaki: '#CABA9C',
                        umber: '#8A6240',
                        noir: '#4D2D18',
                        parchment: '#F5F1E8',
                        moss: '#6B7F6A',
                        sage: '#8FA38E'
                    },
                    fontFamily: {
                        'serif': ['Playfair Display', 'Georgia', 'serif'],
                        'sans': ['Inter', 'system-ui', 'sans-serif'],
                        'cursive': ['Dancing Script', 'cursive']
                    },
                    animation: {
                        'fade-in': 'fadeIn 1s ease-out',
                        'float': 'float 6s ease-in-out infinite',
                        'gentle-glow': 'gentleGlow 3s ease-in-out infinite alternate',
                        'page-turn': 'pageTurn 0.8s ease-out',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0) rotate(0deg)' },
                            '50%': { transform: 'translateY(-15px) rotate(1deg)' },
                        },
                        gentleGlow: {
                            '0%': { 'box-shadow': '0 0 20px rgba(202, 186, 156, 0.1)' },
                            '100%': { 'box-shadow': '0 0 40px rgba(202, 186, 156, 0.3)' },
                        },
                        pageTurn: {
                            '0%': { transform: 'rotateY(90deg)', opacity: '0' },
                            '100%': { transform: 'rotateY(0)', opacity: '1' },
                        }
                    },
                    backgroundImage: {
                        'paper-texture': "url('data:image/svg+xml,%3Csvg width=\"100\" height=\"100\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cfilter id=\"noise\"%3E%3CfeTurbulence type=\"fractalNoise\" baseFrequency=\"0.9\" numOctaves=\"3\" stitchTiles=\"stitch\"/%3E%3C/filter%3E%3Crect width=\"100\" height=\"100\" filter=\"url(%23noise)\" opacity=\"0.1\"/%3E%3C/svg%3E')",
                        'subtle-grid': "url('data:image/svg+xml,%3Csvg width=\"60\" height=\"60\" viewBox=\"0 0 60 60\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cg fill=\"none\" fill-rule=\"evenodd\"%3E%3Cg fill=\"%234C6444\" fill-opacity=\"0.03\"%3E%3Cpath d=\"M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z\"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')"
                    }
                }
            }
        }
    </script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600&family=Dancing+Script:wght@500;600&display=swap"
        rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- Custom Styles -->
    <style>
        body {
            background-color: #F5F1E8;
            background-image: url('data:image/svg+xml;utf8,<svg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><filter id="noise"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="3" stitchTiles="stitch"/></filter><rect width="100" height="100" filter="url(%23noise)" opacity="0.03"/></svg>');
        }

        .book-card {
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(140, 138, 124, 0.1);
        }

        .book-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 25px 50px rgba(16, 40, 32, 0.15);
            border-color: rgba(202, 186, 156, 0.3);
        }

        .book-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #CABA9C, #8A6240, #4C6444);
            transform: scaleX(0);
            transition: transform 0.6s ease;
            transform-origin: left;
        }

        .book-card:hover::before {
            transform: scaleX(1);
        }

        .search-input {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .search-input:focus {
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 0 0 3px rgba(202, 186, 156, 0.3);
            border-color: #8A6240;
        }

        .source-card {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(140, 138, 124, 0.1);
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
        }

        .source-card:hover {
            transform: translateY(-5px) rotateX(5deg);
            box-shadow: 0 20px 40px rgba(16, 40, 32, 0.1);
            border-color: rgba(202, 186, 156, 0.4);
            background: rgba(255, 255, 255, 0.9);
        }

        .ornamental-border {
            position: relative;
        }

        .ornamental-border::before {
            content: '';
            position: absolute;
            top: -2px;
            left: 20%;
            right: 20%;
            height: 1px;
            background: linear-gradient(90deg, transparent, #CABA9C, transparent);
        }

        .ornamental-border::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 20%;
            right: 20%;
            height: 1px;
            background: linear-gradient(90deg, transparent, #8A6240, transparent);
        }

        .text-glow {
            text-shadow: 0 2px 10px rgba(202, 186, 156, 0.3);
        }

        .leaf-decoration {
            position: relative;
            display: inline-block;
        }

        .leaf-decoration::before {
            content: '❧';
            position: absolute;
            left: -30px;
            top: 50%;
            transform: translateY(-50%);
            color: #8A6240;
            font-size: 1.2rem;
            opacity: 0.7;
        }

        .page-curl {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, transparent 50%, rgba(202, 186, 156, 0.1) 50%);
            border-radius: 0 0 0 10px;
            pointer-events: none;
        }

        .golden-accent {
            position: relative;
        }

        .golden-accent::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 2px;
            background: linear-gradient(90deg, transparent, #CABA9C, transparent);
        }

        .ink-blot {
            position: absolute;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle at 30% 30%, rgba(77, 45, 24, 0.05) 0%, transparent 70%);
            pointer-events: none;
            z-index: -1;
        }

        .fade-in-delay {
            animation: fadeIn 1s ease-out 0.3s both;
        }

        .fade-in-delay-2 {
            animation: fadeIn 1s ease-out 0.6s both;
        }
    </style>
</head>

<body class="font-sans text-noir">
    <!-- Navigation - Minimal
    <nav class="bg-darkgreen/95 backdrop-blur-sm sticky top-0 z-50 border-b border-hunter/20">
        <div class="container mx-auto px-4 py-3">
            <div class="flex justify-center items-center">
                <div class="text-center">
                    <div class="flex items-center justify-center space-x-3">
                        <i class="fas fa-feather-alt text-khaki text-xl"></i>
                        <h1 class="text-2xl font-serif font-bold text-parchment">Aklat at Pluma</h1>
                    </div>
                    <p class="text-khaki/70 text-xs font-serif italic mt-1">a sanctuary of words, for every reader.</p>
                </div>
            </div>
        </div>
    </nav> -->

    <!-- Hero Section -->
    <section class="relative overflow-hidden bg-gradient-to-b from-parchment via-parchment to-darkgreen/5">
        <div class="absolute inset-0 opacity-5 bg-subtle-grid"></div>

        <!-- Decorative elements -->
        <div class="absolute top-20 left-10 text-4xl text-umber/10">❖</div>
        <div class="absolute bottom-40 right-10 text-4xl text-hunter/10">❧</div>
        <div class="absolute top-1/3 left-1/4 text-3xl text-noir/5">⌘</div>

        <div class="container mx-auto px-4 py-16 md:py-24 relative">
            <div class="max-w-3xl mx-auto text-center animate-fade-in">
                <!-- Main Title -->
                <div class="mb-8">
                    <div class="flex items-center justify-center space-x-3">
                        <i class="fas fa-feather-alt text-khaki text-6xl"></i>
                        <h1
                            class="text-4xl md:text-5xl lg:text-6xl font-serif font-bold text-darkgreen mb-6 leading-tight">
                            Aklat <span class="text-umber italic">at</span> Pluma
                        </h1>
                    </div>
                    <p class="text-lg md:text-xl text-noir/70 mb-8 max-w-2xl mx-auto font-serif">
                        a sanctuary of words, for every reader.
                    </p>
                </div>

                <!-- Search Box -->
                <div class="max-w-2xl mx-auto animate-fade-in-delay">
                    <div class="relative">
                        <div
                            class="bg-white/80 backdrop-blur-sm rounded-2xl p-2 shadow-xl border border-khaki/20 animate-gentle-glow">
                            <div class="flex flex-col md:flex-row">
                                <div class="flex-grow relative">
                                    <i
                                        class="fas fa-search absolute left-5 top-1/2 transform -translate-y-1/2 text-umber/60"></i>
                                    <input type="text" id="searchInput"
                                        placeholder="Search by title, author, or topic..."
                                        class="w-full pl-12 pr-4 py-5 text-noir search-input rounded-2xl md:rounded-l-2xl md:rounded-r-none focus:outline-none placeholder-umber/40 font-serif text-lg">
                                </div>
                                <button id="searchBtn"
                                    class="bg-gradient-to-r from-umber to-noir text-khaki font-serif font-semibold py-5 px-8 rounded-2xl md:rounded-r-2xl md:rounded-l-none hover:opacity-90 transition-all duration-300 mt-3 md:mt-0 group shadow-lg">
                                    <i
                                        class="fas fa-magnifying-glass mr-3 group-hover:rotate-12 transition-transform"></i>
                                    Search Libraries
                                </button>
                            </div>
                        </div>

                        <!-- Decorative corner -->
                        <div class="absolute -top-2 -right-2 w-6 h-6 border-t-2 border-r-2 border-umber/30"></div>
                        <div class="absolute -bottom-2 -left-2 w-6 h-6 border-b-2 border-l-2 border-umber/30"></div>
                    </div>

                    <p class="text-umber/60 text-sm mt-4 font-serif italic">
                        <i class="fas fa-leaf text-hunter/60 mr-2"></i>
                        Searching through public domain collections and free archives
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-12">
        <!-- Search Results Section -->
        <div class="mb-16">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-10">
                <div class="leaf-decoration mb-6 md:mb-0">
                    <h2 class="text-3xl font-serif font-bold text-darkgreen">Search Results</h2>
                </div>
                <div id="resultCount"
                    class="text-noir text-lg font-medium font-serif bg-khaki/20 px-4 py-2 rounded-full">
                    <span class="text-umber font-bold">0</span> books discovered
                </div>
            </div>

            <!-- Loading State -->
            <div id="loadingState" class="hidden text-center py-24">
                <div class="inline-block animate-spin text-5xl text-umber mb-8">
                    <i class="fas fa-feather-alt"></i>
                </div>
                <p class="text-noir/70 font-serif text-xl mb-2">Searching literary archives...</p>
                <div class="flex justify-center space-x-3 mt-4">
                    <div class="w-2 h-2 bg-umber/40 rounded-full animate-bounce" style="animation-delay: 0s"></div>
                    <div class="w-2 h-2 bg-umber/40 rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                    <div class="w-2 h-2 bg-umber/40 rounded-full animate-bounce" style="animation-delay: 0.4s"></div>
                </div>
            </div>

            <!-- No Results State -->
            <div id="noResults" class="hidden text-center py-24">
                <div class="inline-block mb-8">
                    <div class="relative">
                        <i class="fas fa-book-open text-6xl text-khaki/40"></i>
                        <div class="absolute inset-0 animate-pulse">
                            <i class="fas fa-question text-2xl text-umber/60"></i>
                        </div>
                    </div>
                </div>
                <h3 class="text-2xl font-serif font-bold text-darkgreen mb-4">No books found yet</h3>
                <p class="text-noir/60 max-w-md mx-auto mb-8 font-serif">
                    Try searching for classics, authors, or explore our recommended sources below.
                </p>
                <div id="externalSearchBtns" class="mt-8 flex flex-wrap gap-3 justify-center"></div>
            </div>

            <!-- Results Grid -->
            <div id="resultsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16">
                <!-- Book cards will be dynamically inserted here -->
            </div>
        </div>

        <!-- Recommended Sources Section -->
        <div class="mb-20 pt-16 border-t border-khaki/20">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-serif font-bold text-darkgreen mb-4 golden-accent">
                    Explore These Book Sources
                </h2>
                <p class="text-noir/60 max-w-2xl mx-auto font-serif">
                    While we focus on public APIs, here are other wonderful places to discover free books
                </p>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6">
                <!-- Source 1: Open Library -->
                <div class="source-card rounded-xl p-6 animate-page-turn">
                    <div class="page-curl"></div>
                    <div class="flex items-start mb-4">
                        <div
                            class="bg-gradient-to-br from-khaki/20 to-umber/10 w-12 h-12 rounded-lg flex items-center justify-center mr-4">
                            <i class="fas fa-university text-umber text-lg"></i>
                        </div>
                        <div>
                            <h3 class="font-serif font-bold text-lg text-darkgreen">Open Library</h3>
                            <p class="text-sm text-noir/60 mt-1">Editable online library catalog</p>
                        </div>
                    </div>
                    <a href="https://openlibrary.org/" target="_blank"
                        class="inline-flex items-center text-umber hover:text-noir text-sm font-medium group">
                        Visit Source <i
                            class="fas fa-external-link-alt ml-2 text-xs group-hover:translate-x-1 transition-transform"></i>
                    </a>
                </div>

                <!-- Source 2: Project Gutenberg -->
                <div class="source-card rounded-xl p-6 animate-page-turn" style="animation-delay: 0.1s">
                    <div class="page-curl"></div>
                    <div class="flex items-start mb-4">
                        <div
                            class="bg-gradient-to-br from-khaki/20 to-umber/10 w-12 h-12 rounded-lg flex items-center justify-center mr-4">
                            <i class="fas fa-book-open text-umber text-lg"></i>
                        </div>
                        <div>
                            <h3 class="font-serif font-bold text-lg text-darkgreen">Project Gutenberg</h3>
                            <p class="text-sm text-noir/60 mt-1">60,000+ free public domain ebooks</p>
                        </div>
                    </div>
                    <a href="https://www.gutenberg.org/" target="_blank"
                        class="inline-flex items-center text-umber hover:text-noir text-sm font-medium group">
                        Visit Source <i
                            class="fas fa-external-link-alt ml-2 text-xs group-hover:translate-x-1 transition-transform"></i>
                    </a>
                </div>

                <!-- Source 3: Google Books -->
                <div class="source-card rounded-xl p-6 animate-page-turn" style="animation-delay: 0.2s">
                    <div class="page-curl"></div>
                    <div class="flex items-start mb-4">
                        <div
                            class="bg-gradient-to-br from-khaki/20 to-umber/10 w-12 h-12 rounded-lg flex items-center justify-center mr-4">
                            <i class="fab fa-google text-umber text-lg"></i>
                        </div>
                        <div>
                            <h3 class="font-serif font-bold text-lg text-darkgreen">Google Books</h3>
                            <p class="text-sm text-noir/60 mt-1">Preview and access digitized books</p>
                        </div>
                    </div>
                    <a href="https://books.google.com/" target="_blank"
                        class="inline-flex items-center text-umber hover:text-noir text-sm font-medium group">
                        Visit Source <i
                            class="fas fa-external-link-alt ml-2 text-xs group-hover:translate-x-1 transition-transform"></i>
                    </a>
                </div>

                <!-- Source 4: ManyBooks -->
                <div class="source-card rounded-xl p-6 animate-page-turn" style="animation-delay: 0.3s">
                    <div class="page-curl"></div>
                    <div class="flex items-start mb-4">
                        <div
                            class="bg-gradient-to-br from-khaki/20 to-umber/10 w-12 h-12 rounded-lg flex items-center justify-center mr-4">
                            <i class="fas fa-book text-umber text-lg"></i>
                        </div>
                        <div>
                            <h3 class="font-serif font-bold text-lg text-darkgreen">ManyBooks</h3>
                            <p class="text-sm text-noir/60 mt-1">Free and discounted ebooks</p>
                        </div>
                    </div>
                    <a href="https://manybooks.net/" target="_blank"
                        class="inline-flex items-center text-umber hover:text-noir text-sm font-medium group">
                        Visit Source <i
                            class="fas fa-external-link-alt ml-2 text-xs group-hover:translate-x-1 transition-transform"></i>
                    </a>
                </div>

                <!-- Source 5: Anna's Archive -->
                <div class="source-card rounded-xl p-6 animate-page-turn" style="animation-delay: 0.4s">

                    <div class="page-curl"></div>
                    <div class="flex items-start mb-4">
                        <div
                            class="bg-gradient-to-br from-khaki/20 to-umber/10 w-12 h-12 rounded-lg flex items-center justify-center mr-4">
                            <i class="fas fa-archive text-umber text-lg"></i>
                        </div>
                        <div>
                            <h3 class="font-serif font-bold text-lg text-darkgreen">Anna's Archive</h3>
                            <p class="text-sm text-noir/60 mt-1">Open-source search engine for shadow libraries</p>
                        </div>
                    </div>
                    <a href="https://annas-archive.org/" target="_blank"
                        class="inline-flex items-center text-umber hover:text-noir text-sm font-medium group">
                        Visit Source <i
                            class="fas fa-external-link-alt ml-2 text-xs group-hover:translate-x-1 transition-transform"></i>
                    </a>
                </div>

                <!-- Source 6: Smashwords -->
                <div class="source-card rounded-xl p-6 animate-page-turn" style="animation-delay: 0.5s">
                    <div class="page-curl"></div>
                    <div class="flex items-start mb-4">
                        <div
                            class="bg-gradient-to-br from-khaki/20 to-umber/10 w-12 h-12 rounded-lg flex items-center justify-center mr-4">
                            <i class="fas fa-pen-nib text-umber text-lg"></i>
                        </div>
                        <div>
                            <h3 class="font-serif font-bold text-lg text-darkgreen">Smashwords</h3>
                            <p class="text-sm text-noir/60 mt-1">Independent authors & publishers</p>
                        </div>
                    </div>
                    <a href="https://www.smashwords.com/" target="_blank"
                        class="inline-flex items-center text-umber hover:text-noir text-sm font-medium group">
                        Visit Source <i
                            class="fas fa-external-link-alt ml-2 text-xs group-hover:translate-x-1 transition-transform"></i>
                    </a>
                </div>

                <!-- Source 7: DigiLibraries -->
                <div class="source-card rounded-xl p-6 animate-page-turn" style="animation-delay: 0.6s">
                    <div class="page-curl"></div>
                    <div class="flex items-start mb-4">
                        <div
                            class="bg-gradient-to-br from-khaki/20 to-umber/10 w-12 h-12 rounded-lg flex items-center justify-center mr-4">
                            <i class="fas fa-digital-tachograph text-umber text-lg"></i>
                        </div>
                        <div>
                            <h3 class="font-serif font-bold text-lg text-darkgreen">DigiLibraries</h3>
                            <p class="text-sm text-noir/60 mt-1">Public domain ebooks collection</p>
                        </div>
                    </div>
                    <a href="https://digilibraries.com/" target="_blank"
                        class="inline-flex items-center text-umber hover:text-noir text-sm font-medium group">
                        Visit Source <i
                            class="fas fa-external-link-alt ml-2 text-xs group-hover:translate-x-1 transition-transform"></i>
                    </a>
                </div>

                <!-- Source 8: Free-eBooks -->
                <div class="source-card rounded-xl p-6 animate-page-turn" style="animation-delay: 0.7s">
                    <div class="page-curl"></div>
                    <div class="flex items-start mb-4">
                        <div
                            class="bg-gradient-to-br from-khaki/20 to-umber/10 w-12 h-12 rounded-lg flex items-center justify-center mr-4">
                            <i class="fas fa-book-reader text-umber text-lg"></i>
                        </div>
                        <div>
                            <h3 class="font-serif font-bold text-lg text-darkgreen">Free-eBooks</h3>
                            <p class="text-sm text-noir/60 mt-1">Free ebooks in multiple categories</p>
                        </div>
                    </div>
                    <a href="https://www.free-ebooks.net/" target="_blank"
                        class="inline-flex items-center text-umber hover:text-noir text-sm font-medium group">
                        Visit Source <i
                            class="fas fa-external-link-alt ml-2 text-xs group-hover:translate-x-1 transition-transform"></i>
                    </a>
                </div>

                <!-- Source 9: PDF Drive -->
                <div class="source-card rounded-xl p-6 animate-page-turn" style="animation-delay: 0.8s">
                    <div class="page-curl"></div>
                    <div class="flex items-start mb-4">
                        <div
                            class="bg-gradient-to-br from-khaki/20 to-umber/10 w-12 h-12 rounded-lg flex items-center justify-center mr-4">
                            <i class="fas fa-file-pdf text-umber text-lg"></i>
                        </div>
                        <div>
                            <h3 class="font-serif font-bold text-lg text-darkgreen">PDF Drive</h3>
                            <p class="text-sm text-noir/60 mt-1">Search engine for PDF books</p>
                        </div>
                    </div>
                    <a href="https://welib.org/" target="_blank"
                        class="inline-flex items-center text-umber hover:text-noir text-sm font-medium group">
                        Visit Source <i
                            class="fas fa-external-link-alt ml-2 text-xs group-hover:translate-x-1 transition-transform"></i>
                    </a>
                </div>

                <!-- Source 10: Z Library -->
                <div class="source-card rounded-xl p-6 animate-page-turn" style="animation-delay: 0.9s">
                    <div class="page-curl"></div>
                    <div class="flex items-start mb-4">
                        <div
                            class="bg-gradient-to-br from-khaki/20 to-umber/10 w-12 h-12 rounded-lg flex items-center justify-center mr-4">
                            <i class="fas fa-book text-umber text-lg"></i>
                        </div>
                        <div>
                            <h3 class="font-serif font-bold text-lg text-darkgreen">Z Library</h3>
                            <p class="text-sm text-noir/60 mt-1">Millions of scholarly articles and books</p>
                        </div>
                    </div>
                    <a href="https://z-lib.id/" target="_blank"
                        class="inline-flex items-center text-umber hover:text-noir text-sm font-medium group">
                        Visit Source <i
                            class="fas fa-external-link-alt ml-2 text-xs group-hover:translate-x-1 transition-transform"></i>
                    </a>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-darkgreen text-parchment py-12 border-t border-hunter/20">
        <div class="container mx-auto px-4">
            <div class="text-center mb-8">
                <div class="flex flex-col items-center mb-6">
                    <div class="flex items-center mb-4">
                        <i class="fas fa-feather-alt text-khaki text-3xl mr-3"></i>
                        <h3 class="text-2xl font-serif font-bold">Aklat at Pluma</h3>
                    </div>
                    <p class="text-khaki/80 max-w-md mx-auto font-serif italic text-lg">
                        a sanctuary of words, for every reader.
                    </p>
                </div>
            </div>

            <div class="border-t border-hunter/30 pt-8 text-center">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <p class="text-khaki/60 text-sm mb-4 md:mb-0">
                        Aklat at Pluma does not host, own, or distribute any books. All book data is sourced from
                        publicly available APIs such as Open Library, Google Books, and Project Gutenberg. External
                        websites are linked for reference only. All rights to books and content belong to their
                        respective authors, publishers, and platforms.
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Book Sources Data
        // Mark `searchable: true` for sources the backend actually queries
        const sources = [
            { name: "Anna's Archive", url: "https://annas-archive.org/", description: "Open-source search engine indexing shadow libraries", color: "bg-pink-100", textColor: "text-pink-550", searchable: false },
            { name: "Z Library", url: "https://z-lib.id/", description: "Millions of scholarly articles and books", color: "bg-purple-100", textColor: "text-purple-550", searchable: false },
            { name: "Google Books", url: "https://books.google.com/", description: "Preview and access digitized books", color: "bg-blue-100", textColor: "text-blue-600", searchable: true },
            { name: "ManyBooks", url: "https://manybooks.net/", description: "Free and discounted ebooks", color: "bg-green-100", textColor: "text-green-600", searchable: false },
            { name: "Open Library", url: "https://openlibrary.org/", description: "Editable online library catalog", color: "bg-yellow-100", textColor: "text-yellow-600", searchable: true },
            { name: "Smashwords", url: "https://www.smashwords.com/", description: "Independent authors & publishers", color: "bg-red-100", textColor: "text-red-600", searchable: false },
            { name: "DigiLibraries", url: "https://digilibraries.com/", description: "Public domain ebooks collection", color: "bg-indigo-100", textColor: "text-indigo-600", searchable: false },
            { name: "Free-eBooks", url: "https://www.free-ebooks.net/", description: "Free ebooks in multiple categories", color: "bg-teal-100", textColor: "text-teal-600", searchable: false },
            { name: "PDF Drive", url: "https://welib.org/", description: "Search engine for PDF books", color: "bg-orange-100", textColor: "text-orange-600", searchable: false },
            { name: "Project Gutenberg", url: "https://www.gutenberg.org/", description: "60,000+ free public domain ebooks", color: "bg-gray-100", textColor: "text-gray-700", searchable: true }
        ];

        // DOM Elements
        const searchInput = document.getElementById('searchInput');
        const searchBtn = document.getElementById('searchBtn');
        const filterBtns = document.querySelectorAll('.filter-btn');
        const resultsGrid = document.getElementById('resultsGrid');
        const loadingState = document.getElementById('loadingState');
        const noResults = document.getElementById('noResults');
        const resultCount = document.getElementById('resultCount');
        const sourcesGrid = document.getElementById('sourcesGrid');
        const searchSourcesNote = document.getElementById('searchSourcesNote');
        const externalSearchBtns = document.getElementById('externalSearchBtns');

        // State Variables
        let currentFilter = 'all';
        let currentSearch = '';
        let displayedBooks = [];
        const API_BASE = ''; // when deployed to Vercel the serverless function is at /api/search

        function showLoading(show) {
            if (show) {
                loadingState.classList.remove('hidden');
            } else {
                loadingState.classList.add('hidden');
            }
        }

        async function performRemoteSearch(title, author, requestedLimit = 20) {
            if (!title) return [];
            showLoading(true);
            try {
                const q = `${API_BASE}/api/search?title=${encodeURIComponent(title)}${author ? `&author=${encodeURIComponent(author)}` : ''}&limit=${requestedLimit}`;
                const resp = await fetch(q);
                const data = await resp.json();
                showLoading(false);
                return data;
            } catch (err) {
                showLoading(false);
                return [{ source: 'Local', error: err.toString() }];
            }
        }

        function renderRemoteResults(results) {
            resultsGrid.innerHTML = '';

            if (!results || results.length === 0) {
                noResults.classList.remove('hidden');
                resultCount.textContent = '0 books found';
                renderExternalSearchButtons(currentSearch);
                return;
            }

            // hide external buttons when we have results
            if (externalSearchBtns) externalSearchBtns.innerHTML = '';

            noResults.classList.add('hidden');

            results.forEach(r => {
                if (r.error) {
                    const errDiv = document.createElement('div');
                    errDiv.className = 'col-span-1 p-6 bg-red-50 rounded-lg';
                    errDiv.textContent = `[${r.source || 'Error'}] ${r.error}`;
                    resultsGrid.appendChild(errDiv);
                    return;
                }

                const title = r.title || '(no title)';
                const authors = (r.authors || []).join(', ');
                const link = r.link || '#';
                const source = r.source || 'Unknown';
                const avail = r.availability || '';

                const bookCard = document.createElement('div');
                bookCard.className = 'book-card bg-white rounded-xl overflow-hidden fade-in p-4';
                bookCard.innerHTML = `
                    <div class="p-4">
                        <h3 class="font-bold text-lg text-dark mb-1">${title}</h3>
                        <p class="text-gray-600 text-sm mb-2">${authors}</p>
                        <p class="text-sm text-gray-500 mb-3">Source: <strong>${source}</strong> ${avail ? `• ${avail}` : ''}</p>
                        <div class="flex gap-2">
                            <a href="${link}" target="_blank" class="bg-primary text-white px-3 py-2 rounded-md text-sm">Open Link</a>
                            <a href="#" class="bg-white border border-gray-200 text-dark px-3 py-2 rounded-md text-sm">View Details</a>
                        </div>
                    </div>
                `;

                resultsGrid.appendChild(bookCard);
            });

            resultCount.textContent = `${results.length} result${results.length !== 1 ? 's' : ''} found`;
        }

        // Event Listeners (remote search)
        searchBtn.addEventListener('click', async () => {
            currentSearch = searchInput.value.trim();
            if (!currentSearch) return;
            const results = await performRemoteSearch(currentSearch);
            renderRemoteResults(results);
        });

        searchInput.addEventListener('keyup', async (event) => {
            if (event.key === 'Enter') {
                currentSearch = searchInput.value.trim();
                if (!currentSearch) return;
                const results = await performRemoteSearch(currentSearch);
                renderRemoteResults(results);
            }
        });

        filterBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                filterBtns.forEach(b => {
                    b.classList.remove('active', 'bg-primary', 'text-white', 'border-primary');
                    b.classList.add('bg-white', 'text-dark', 'border-gray-300');
                });

                btn.classList.add('active', 'bg-primary', 'text-white');
                btn.classList.remove('bg-white', 'text-dark', 'border-gray-300');

                currentFilter = btn.getAttribute('data-filter');
            });
        });

        // Render sources section dynamically
        function renderSources() {
            if (!sourcesGrid) return;
            sourcesGrid.innerHTML = '';
            const searchableNames = [];
            sources.forEach(s => {
                if (s.searchable) searchableNames.push(s.name);

                const card = document.createElement('div');
                card.className = 'source-card bg-white rounded-xl p-6';
                card.innerHTML = `
                    <div class="flex items-start mb-4">
                        <div class="${s.color} w-12 h-12 rounded-lg flex items-center justify-center mr-4">
                            <i class="fas fa-book text-2xl ${s.textColor}"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-lg text-dark">${s.name}</h3>
                            <p class="text-sm text-gray-600 mt-1">${s.description}</p>
                        </div>
                    </div>
                    <div class="flex items-center justify-between">
                        <a href="${s.url}" target="_blank" class="inline-flex items-center text-primary hover:text-pink-550 text-sm font-medium">
                            Visit Source <i class="fas fa-external-link-alt ml-2 text-xs"></i>
                        </a>
                        ${s.searchable ?
                        '<span class="px-3 py-1 rounded-full bg-green-50 text-green-700 text-xs font-semibold">Searched</span>' :
                        '<span class="px-3 py-1 rounded-full bg-gray-50 text-gray-600 text-xs">External</span>'}
                    </div>
                `;
                // If not searchable, add a direct-search hint link
                if (!s.searchable) {
                    const hint = document.createElement('div');
                    hint.className = 'mt-3 text-sm';
                    hint.innerHTML = `<a href="${s.url}" target="_blank" class="text-primary underline">Search directly on ${s.name}</a>`;
                    card.appendChild(hint);
                }

                sourcesGrid.appendChild(card);
            });

            if (searchSourcesNote) {
                if (searchableNames.length) {
                    searchSourcesNote.innerHTML = `This search queries: <strong>${searchableNames.join(', ')}</strong>. For other sources below, you can visit them directly.`;
                } else {
                    searchSourcesNote.innerHTML = `This tool currently does not query external sources. Use the links below to search directly on those sites.`;
                }
            }
        }

        // External search helper
        const externalSites = [
            { name: "Anna's Archive", domain: 'annas-archive.org' },
            { name: 'Z Library', domain: 'z-lib.id' },
            { name: 'ManyBooks', domain: 'manybooks.net' },
            { name: 'Smashwords', domain: 'smashwords.com' },
            { name: 'DigiLibraries', domain: 'digilibraries.com' },
            { name: 'Free-eBooks', domain: 'free-ebooks.net' },
            { name: 'PDF Drive', domain: 'pdfdrive.com' }
        ];

        function buildSiteSearchUrl(domain, query) {
            // Use a site-specific Google search to reliably find results on various domains
            const q = `site:${domain} ${query}`;
            return `https://www.google.com/search?q=${encodeURIComponent(q)}`;
        }

        function renderExternalSearchButtons(query) {
            if (!externalSearchBtns) return;
            externalSearchBtns.innerHTML = '';
            if (!query) return;

            // Individual buttons
            externalSites.forEach(s => {
                const a = document.createElement('a');
                a.href = buildSiteSearchUrl(s.domain, query);
                a.target = '_blank';
                a.rel = 'noopener noreferrer';
                a.className = 'bg-white border border-gray-200 text-dark px-4 py-2 rounded-full text-sm hover:bg-gray-50';
                a.textContent = `Search ${s.name}`;
                externalSearchBtns.appendChild(a);
            });

            // Combined search across all external sites
            const combined = externalSites.map(s => `site:${s.domain}`).join(' OR ');
            const combinedUrl = `https://www.google.com/search?q=${encodeURIComponent(combined + ' ' + query)}`;
            const allBtn = document.createElement('a');
            allBtn.href = combinedUrl;
            allBtn.target = '_blank';
            allBtn.rel = 'noopener noreferrer';
            allBtn.className = 'bg-primary text-white px-4 py-2 rounded-full text-sm ml-2';
            allBtn.textContent = 'Search all external sources';
            externalSearchBtns.appendChild(allBtn);
        }

        // Initialize
        function init() {
            renderSources();

            // placeholder animation
            const placeholders = [
                "Search for '1984 by George Orwell'...",
                "Search for 'Pride and Prejudice'...",
                "Search for 'science fiction books'...",
                "Search for 'academic journals'..."
            ];
            let placeholderIndex = 0;

            setInterval(() => {
                if (!document.activeElement || document.activeElement.id !== 'searchInput') {
                    searchInput.placeholder = placeholders[placeholderIndex];
                    placeholderIndex = (placeholderIndex + 1) % placeholders.length;
                }
            }, 3000);
        }

        // Start the application
        init();
    </script>
</body>

</html>